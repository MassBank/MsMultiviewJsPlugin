# [msmultiview.js](https://massbank.nig.ac.jp/help:msmultiview)

###### *MassBank MultiView JavaScript Plugin*

## Specification

This library entry point being the `msmultiview` method. It returns nothing but initializes massbank multiview related all components.

Plugin Components:

* Multiview windows manager
* Charts zoomer
* Mass cpectra charts & snapshots

## *.msmultiview(URL or Page [, Options])*

### `URL` or `Page` 
> Type: String, Multiple Strings or Array <br/>
> *Required*

Plugin requires at least one or more mass spectra response URL(s). Page name(s) only enough for WIKI pages of massbank.nig.ac.jp domained URL(s).

### `Options`
> Type: Object <br/>
> *Optional*

"Options" is a optional parameter and it's properties are grouped into few categories according to plugin components. Each category contains configuration properties specified for their components.

#### `Options` customizable categories

Options are grouped under few categories which helps to customize multiview plugin. All categories are optional.

``` html
var options = {
	/**
     * General Parameters. [Optional]
     */
    param: {
    	chart: { // chart related options },
        apiUrlPrefix: <URL>, // parent URL for data response
    },
    /**
     * Window Manager. [Optional]
     */
    windowsmanager: { // window manager related options },
    /**
     * Chart Zoomer. [Optional]
     */
    chartszoomer: { // chart zoomer related options },
    /**
     * Highcharts. [Optional]
     */
    highcharts: { // Highcharts related options },
    /**
     * Highcharts image. [Optional]
     */
    highchartsImage: { // Highcharts image related options }
}
```

#### `Options` -> General parameters

| Key | Value | Description |
| ------ | ----------- | -------- |
| apiUrlPrefix   | URL Prefix String | Parent URL for data response |
| chart.yaxis.label   | String | Title of y-axis |
| chart.xaxis.label   | String | Title of x-axis |
| chart.intensitythreshold   | Integer | Threshold value of y-axis. Upper values only shows when chart onload. |
| chart.height   | Integer | Height of chart view |

### Multiview Windows Manager

This controller facilitates many features as follow:

- Compare mass spectra information of active window with other windows/tabs.
- Import mass spectra information of other windows/tabs into active window. In this situation,  `mv.event.chart.load.success` method should re-implement to satisfy each responses according to the necessity.
- Remove mass spectra information from active window.
- Error messages for invalid data URLs.

#### `Options` -> Window Manager

| Key | Value | Description |
| ------ | ----------- | -------- |
| enabled   | true/false | show or hide window manager element |

### Charts Zoomer

This is a zooming controller of chart views. It supports to *zoom-in [+]*, *zoom-out [-]* and *zoom-default [1:1]* displaying charts.

#### `Options` -> Charts Zoomer

| Key | Value | Description |
| ------ | ----------- | -------- |
| enabled   | true/false | show or hide chart zoomer element |

### Mass Spectra Charts &amp; Snapshoots

Charts and snapshoots are generated by [Highcharts](http://www.highcharts.com/) library. Their customization could manage according to the information of [API](http://api.highcharts.com/highcharts).

#### `Options` -> Highcharts

| Description |
| -------- |
| Refer the [Highcharts API Reference](http://api.highcharts.com/highcharts) |

#### `Options` -> Highcharts Image

| Description |
| -------- |
| Refer the [Highcharts API Reference](http://api.highcharts.com/highcharts) |

